<nav class="border-2 p-2" data-controller="navbar">
  <div class="min-h-[40px] flex items-center justify-start">
    <% if current_user %>
      <div>
        <%= link_to "Home", root_path %>
      </div>
    <% end %>
    <div class="grow flex justify-end">
      <% if current_user %>
        <div>
          <% if current_user.avatar.attached? %>
            <div class="gap-2 w-full px-3">
              <%= image_tag current_user.avatar, class: "inline-block h-10 w-10 rounded-full ring-2 ring-white" %>
            </div>
          <% else %>
            <div class="gap-2 w-full px-3">
              <%= image_tag "default_avatar.jpg", class: "inline-block h-10 w-10 rounded-full ring-2 ring-white" %>
            </div>
          <% end %>
        </div>
        <div class="gap-2 hidden sm:flex">
          <div class="h-full flex items-center"> <%= link_to "Account Settings", current_user %></div>
          <div class="h-full flex items-center"> <%= link_to "Edit Account", edit_user_registration_path %></div>
          <div class="h-full flex items-center"> <%= button_to "Sign Out", destroy_user_session_path, method: :delete, class: " mx-2" %></div>
        </div>
      <% else %>
        <div class="gap-2 hidden sm:flex">
          <div class=""> <%= link_to "Sign Up", new_user_registration_path, class: ""  %></div>
          <div class=""> <%= link_to "Sign In", new_user_session_path, class: "mx-2"  %></div>
        </div>
      <% end %>
      <button id="navbar-toggle" data-action="click->navbar#toggleMenu" type="button" class="inline-flex items-center justify-center p-2 w-10 h-10 text-sm text-gray-500 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 sm:hidden" aria-controls="navbar-hamburger" aria-expanded="false">
        <span class="sr-only">Open main menu</span>
        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
        </svg>
      </button>
    
    </div>
  </div>
  <div data-navbar-target="menu" class="hidden w-full" id="navbar-hamburger">
    <div class="flex flex-col font-medium mt-4 rounded-lg bg-gray-50">
      <% if current_user %>
        <div>
          <a href="<%= user_path(current_user) %>" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100">Account Settings</a>
        </div>
        <div>
          <a href="<%= edit_user_registration_path %>" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100">Edit Account</a>
        </div>
        <div>
          <%= button_to "Sign Out", destroy_user_session_path, method: :delete, class: "block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 w-full text-left" %>
        </div>
      <% else %>
        <div>
          <%= link_to "Sign Up", new_user_registration_path, class: "block py-2 px-3 text-gray-900 rounded hover:bg-gray-100"  %>
        </div>
        <div>
          <%= link_to "Sign In", new_user_session_path, class: "block py-2 px-3 text-gray-900 rounded hover:bg-gray-100"  %>
        </div>
      <% end %>
    </div>
  </div>
</nav>